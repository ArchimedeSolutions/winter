!function(){"use strict";class t extends Winter.Module{constructor(t,e,s,i){super(t),this.message=e,this.type=s||"default",this.duration=i||7,this.clear(),this.timer=null,this.create()}dependencies(){return["transition"]}destructor(){null!==this.timer&&window.clearTimeout(this.timer),this.flash&&(this.flash.remove(),this.flash=null)}create(){this.flash=document.createElement("P"),this.flash.innerHTML=this.message,this.flash.classList.add("flash-message ".concat(this.type)),this.flash.attributes.setNamedItem("data-control",null),this.flash.addEventListener("click",(()=>this.remove())),this.flash.addEventListener("mouseover",(()=>this.stopTimer())),this.flash.addEventListener("mouseout",(()=>this.startTimer())),document.body.appendChild(this.flash),this.winter.transition(this.flash,"enter",(()=>{this.startTimer()}))}remove(){this.stopTimer(),this.winter.transition(this.flash,"leave",(()=>{this.flash.remove(),this.flash=null,this.destructor()}))}clear(){document.querySelectorAll("body > p.flash-message").remove()}startTimer(){this.timer=window.setTimeout((()=>this.remove()),1e3*this.duration)}stopTimer(){window.clearTimeout(this.timer)}}var e,s=(t,e,s)=>{if(t instanceof HTMLElement==!1&&"function"!=typeof t.hasClass)throw new Error('"element" must be a HTMLElement or a Cash.js object');if("string"!=typeof e)throw new Error('"transition" must be a string');if(s&&"function"!=typeof s)throw new Error('"callback" must be a valid callback function.');const i={enter:"".concat(e),enterActive:"".concat(e,"-active"),enterTo:"".concat(e,"-to")};Object.values(i).forEach((e=>{t.classList.remove(e)})),[i.enter,i.enterActive].forEach((e=>{t.classList.add(e)})),window.requestAnimationFrame((()=>{window.getComputedStyle(t).transition||window.getComputedStyle(t)["transition-property"]?(t.addEventListener("transitionend",(()=>{[i.enterTo,i.enterActive].forEach((e=>{t.classList.remove(e)})),s&&s.apply(t)}),{once:!0}),window.requestAnimationFrame((()=>{t.classList.remove(i.enter),t.classList.add(i.enterTo)}))):(Object.values(i).forEach((e=>{t.classList.remove(e)})),s&&s.apply(t))}))};(e=window.winter).addModule("transition",s),e.addModule("flash",t)}();